<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h2>Dashboard</h2>
    <p id="welcome">Welcome to your dashboard!</p>
    <button onclick="logout()">Logout</button>
    <script>
      // Fetch user info and show username
      fetch("/api/user")
        .then((res) => res.json())
        .then((data) => {
          if (data.user && data.user.username) {
            document.getElementById(
              "welcome"
            ).textContent = `Welcome, ${data.user.username}!`;
          }
        });

      function logout() {
        fetch("/api/logout", { method: "POST" }).then(
          () => (window.location.href = "/login.html")
        );
      }
    </script>
  </body>
</html>
